@page "/"
@inject NavigationManager Navigation

<h1>Hello, world!</h1>
Welcome to your new app.

<div>
    <textarea class="form-control" rows="3" disabled>@fcmToken</textarea>
</div>

<div class="mt-4">
    @if (!string.IsNullOrEmpty(responseMessage))
    {
        <div class="@(isSuccess ? "text-success" : "text-danger")">
            @responseMessage
        </div>
    }

    @if (isLoading)
    {
        <p>Processing...</p>
    }

</div>

@code {
    private bool isLoading = false;
    private bool isSuccess = false;
    private string responseMessage = string.Empty;
    private string fcmToken = string.Empty;

    // Get notification 
    protected override async Task OnInitializedAsync()
          {
        await CrossFirebaseCloudMessaging.Current.CheckIfValidAsync();
        fcmToken = await CrossFirebaseCloudMessaging.Current.GetTokenAsync();
        Console.WriteLine($"FCM token: {fcmToken}");
    }
}